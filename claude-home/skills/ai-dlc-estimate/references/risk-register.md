# AI-DLC リスク一覧テンプレート

AI-DLC 特有のリスクを体系化し、コンフィデンス・スコアから定量的リスク指標へ変換するフレームワーク。

## 4 つのリスクカテゴリ

### 技術リスク（Technical）

- **ハルシネーション**: LLM が存在しない事実を捏造。医療・金融で致命的
- **エージェント・ドリフト**: 自律エージェントが意図から逸脱（意味的/調整/行動の 3 種）
- **モデル陳腐化**: データドリフト・モデルアップデートにより既存プロンプトの効果が低下

### ガバナンスリスク（Governance）

- **規制不適合**: EU AI 法ハイリスク分類の誤判定 → 適合性評価・技術文書の未計上
- **プロンプトインジェクション**: 悪意ある入力によるシステムプロンプト無効化
- **データ漏洩**: RAG 経由のアクセス制御迂回、入力データの学習利用リスク

### コストリスク（Cost）

- **トークンコスト超過**: RAG 参照肥大化・推論ループによる API 利用料の想定超過
- **Denial of Wallet (DoW)**: 大量リクエストによる API 予算枯渇攻撃
- **プロバイダー価格変動**: モデル価格改定・旧モデル廃止による運用コスト急増

### 品質リスク（Quality）

- **レイテンシ増大**: Chain-of-Thought やエージェントワークフローで応答数十秒化
- **トーン＆マナー不一致**: ブランドボイスを維持できず顧客対応で毀損リスク

## コンフィデンス・スコア → リスク発生確率 変換テーブル

`P_risk = f(1 - Confidence)` の逆相関を 5 段階リッカート尺度にマッピング:

| Confidence (C) | 解釈 | 確率 P (1-5) | PMBOK 定義 |
|---|---|---|---|
| 90-100% | 実証済み、決定論的実装可能 | 1 (極低) | Rare |
| 70-89% | 標準的 AI 実装、多少のプロンプト調整 | 2 (低) | Unlikely |
| 50-69% | 実験的プロンプト連鎖、試行錯誤必要 | 3 (中) | Possible |
| 30-49% | R&D 要素強、「やってみないとわからない」 | 4 (高) | Likely |
| 0-29% | 技術的実現性未検証、PoC 必須 | 5 (極高) | Almost Certain |

## 影響度（Impact）評価基準

| レベル I | 技術的影響 | ガバナンス・事業的影響 | コスト影響 |
|---|---|---|---|
| 5 (致命的) | システム停止、データ破壊 | 法規制違反、深刻な情報漏洩 | 予算 50%+ 超過 |
| 4 (甚大) | コア機能不全、手動修正常態化 | コンプライアンス違反、クレーム多発 | 予算 20-50% 超過 |
| 3 (中等) | パフォーマンス低下、軽微な幻覚 | ユーザー混乱、免責表示必要 | 予算 10-20% 超過 |
| 2 (軽微) | 表示崩れ、応答遅延 | 社内混乱、数日遅延 | 予算 10% 未満超過 |
| 1 (無視可能) | プロンプト微調整で修正可 | 影響なし | コスト変動なし |

## リスクスコアと優先順位

**Risk Score = P x I**

- **レッドゾーン (15-25)**: 受容不可。スコープ縮小・技術変更まで契約不可
- **イエローゾーン (8-14)**: 要注意。緩和策とクライアント承認が必須、予備費計上推奨
- **グリーンゾーン (1-6)**: 受容可能。通常の PM プロセスで監視

## リスク一覧テンプレート（12 フィールド）

1. **Risk ID**: 管理用 ID（例: AI-TEC-01）
2. **Category**: 技術 / ガバナンス / コスト / 品質
3. **Risk Item**: リスク項目名
4. **Description & Trigger**: 具体的内容とトリガー条件
5. **Model Dependency**: 依存 AI モデル（例: Claude Opus, GPT-4）
6. **Confidence Score**: エンジニア確信度（%）
7. **Probability (P)**: 変換後の発生確率（1-5）
8. **Impact (I)**: 影響度（1-5）
9. **Risk Score**: P x I
10. **Mitigation Strategy**: 緩和策（技術的 + 運用的）
11. **Residual Risk**: 対策後の残存リスク
12. **Owner**: 管理責任者（ベンダー or クライアント）

### 記入例

| ID | Cat | Risk | Conf | P | I | Score | Mitigation | Owner |
|---|---|---|---|---|---|---|---|---|
| TEC-01 | Tech | ハルシネーション（医療） | 60% | 3 | 5 | 15 (Red) | Strict RAG + Temperature=0 + 免責 UI | Client |
| CST-01 | Cost | エージェント無限ループ | 50% | 3 | 4 | 12 (Yellow) | Max Turns 制限 + AI Gateway 予算上限 | Vendor |
| GOV-01 | Gov | プロンプトインジェクション | 80% | 2 | 5 | 10 (Yellow) | 入力分離 + フィルタ + PII マスキング | Vendor |
| QLT-01 | Qual | 高負荷時レイテンシ | 70% | 2 | 3 | 6 (Green) | Semantic Cache + Streaming + 軽量モデルルーティング | Vendor |

## 標準的緩和策パターン

### 技術的対策

- **AI Gateway**: LLM リクエスト中継。トークン監視・予算遮断・フォールバック・ログ監査を一元管理
- **LLM-as-a-Judge**: 高性能モデルで回答品質を自動評価（Faithfulness/Relevance スコアリング）
- **Semantic Caching**: 意味的類似質問にキャッシュ回答。レイテンシ数 ms・トークンコスト 0

### プロセス・ガバナンス対策

- **HITL ワークフロー（信号機システム）**:
  - Green: AI 完全自律（メール下書き等）
  - Yellow: AI 作成 → 人間承認（コード生成、社外文書）
  - Red: 人間実行、AI 支援のみ（DB 削除、医療診断）
- **Red Teaming**: リリース前にプロンプトインジェクション・差別的発言誘発を意図的にテスト

### 契約・SLA 対策

- **免責事項**: 100% 正確性は保証不可。技術的対策はベンダー責任、最終確認はユーザー責任
- **従量課金の実費請求**: 見積もり前提超過分はクライアント実費負担

## 見積書への統合

見積書の「前提条件・制約事項」セクション直後に「AI プロジェクト特有のリスクと対応方針」章を設置:

1. **AI 開発の特性**: 確率的挙動と従来開発との違いの説明
2. **主要リスクサマリー**: コスト・品質（ハルシネーション）の High リスク抜粋
3. **残存リスクへの対応**: 対策後も残るリスクに対するクライアント側運用対処

リスク一覧はスプリントレビューごとに更新する **Living Document** として運用。

## 関連リファレンス

- [practical-frameworks.md](practical-frameworks.md) - Confidence Scoring の基礎（本テンプレートの入力元）
- [industry-aef.md](industry-aef.md) - 業界別 AEF が影響度評価の参考に
- [estimate-document.md](estimate-document.md) - 見積書 Section 6 でリスク一覧を添付
