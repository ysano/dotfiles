# パフォーマンス監査手順

包括的なパフォーマンス監査を以下の 11 ステップで実施する。

## 1. 技術スタック分析

- 言語、フレームワーク、ランタイム環境を特定
- ビルドツールと最適化設定をレビュー
- 既存のパフォーマンス監視ツールを確認

## 2. コードパフォーマンス分析

- 非効率なアルゴリズムとデータ構造を特定
- ネストされたループと O(n²) 操作を検索
- 不必要な計算と冗長な操作を確認
- メモリ割り当てパターンと潜在的なリークをレビュー

## 3. データベースパフォーマンス

DB の詳細な最適化は `database-optimization.md` を参照。ここでは監査観点で:

- データベースクエリの効率性を分析
- 欠落インデックスとスロークエリを確認
- コネクションプーリングと設定をレビュー
- N+1 クエリ問題と過剰な DB コールを特定

## 4. フロントエンドパフォーマンス (該当する場合)

バンドルの詳細な最適化は `bundle-optimization.md` を参照。

- バンドルサイズとチャンク最適化を分析
- 未使用コードと依存関係を確認
- 画像最適化と遅延読み込みをレビュー
- レンダリングパフォーマンスと再レンダリングサイクルを検査
- UI コンポーネントのメモリリークを確認

## 5. ネットワークパフォーマンス

CDN の詳細は `cdn-optimization.md`、キャッシュは `caching.md` を参照。

- API コールパターンとキャッシュ戦略をレビュー
- 不必要なネットワークリクエストを確認
- ペイロードサイズと圧縮を分析
- CDN 利用と静的アセット最適化を検査

## 6. 非同期操作

- async/await 使用とプロミスハンドリングをレビュー
- ブロッキング操作とレースコンディションを確認
- タスクキューイングとバックグラウンド処理を分析
- 並列実行の機会を特定

## 7. メモリ使用量

- メモリリークと過剰なメモリ消費を確認
- ガベージコレクションパターンをレビュー
- オブジェクトライフサイクルとクリーンアップを分析
- 大きなオブジェクトと不必要なデータ保持を特定

## 8. ビルド・デプロイパフォーマンス

ビルドの詳細な最適化は `build-optimization.md` を参照。

- ビルド時間と最適化の機会を分析
- 依存関係バンドリングとツリーシェイキングをレビュー
- 開発 vs 本番の最適化を確認

## 9. パフォーマンス監視

監視の詳細なセットアップは `monitoring.md` を参照。

- 既存のパフォーマンスメトリクスと監視を確認
- 追跡すべき KPI を特定
- アラートとパフォーマンス閾値をレビュー

## 10. ベンチマーキング・プロファイリング

- スタックに適したパフォーマンスプロファイリングツールを実行
- クリティカルコードパスのベンチマークを作成
- 最適化前後の影響を計測
- パフォーマンスベースラインを文書化

## 11. 最適化推奨

- インパクトと労力で最適化を優先順位付け
- 具体的なコード例と代替案を提供
- スケーラビリティのためのアーキテクチャ改善を提案
- 適切なパフォーマンスツールとライブラリを推奨

具体的なファイルパス、行番号、計測可能なメトリクスを含めること。高インパクト・低労力の最適化を優先する。

See also: 監査後の監視セットアップには `monitoring.md` を参照。
