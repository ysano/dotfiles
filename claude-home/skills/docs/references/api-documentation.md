# API Documentation

API リファレンスドキュメントを自動生成する手順。OpenAPI / Swagger / GraphQL / JSDoc / TSDoc 対応。

## 1. API ドキュメント戦略分析

- 現在の API 構造とエンドポイントを分析
- ドキュメント要件を特定 (REST / GraphQL / gRPC など)
- 既存のコードアノテーションとドキュメントを評価
- ドキュメント出力形式とホスティング要件を決定
- ドキュメント自動化とメンテナンス戦略を計画

## 2. ドキュメントツール選定

API タイプに応じて適切なツールを選択:

- **OpenAPI / Swagger**: REST API ドキュメント + Swagger UI
- **Redoc**: モダンな OpenAPI ドキュメントレンダラー
- **GraphQL**: GraphiQL / Apollo Studio / GraphQL Playground
- **Postman**: API ドキュメント + コレクション
- **Insomnia**: API ドキュメント + テスト
- **API Blueprint**: Markdown ベース API ドキュメント
- **JSDoc / TSDoc**: コードファーストドキュメント生成

選定基準: API タイプ / チームワークフロー / ホスティング / インタラクティブ性

## 3. コードアノテーションとスキーマ定義

- API エンドポイントに包括的なコードアノテーションを追加
- リクエスト / レスポンススキーマとデータモデルを定義
- パラメータ説明とバリデーションルールを追加
- 認証・認可要件を文書化
- サンプルリクエストとレスポンスを追加

## 4. API 仕様生成

- コードからの自動 API 仕様生成を設定
- OpenAPI / Swagger 仕様生成を構成
- スキーマ検証と整合性チェックを設定
- API バージョニングと変更履歴生成を構成
- 仕様ファイル管理とバージョン管理を設定

## 5. インタラクティブドキュメント設定

- Try-it-out 機能付きインタラクティブ API ドキュメントを構成
- API テストとサンプル実行を設定
- ドキュメント内の認証ハンドリングを構成
- リクエスト / レスポンス検証とサンプルを設定
- API エンドポイントのカテゴリ化と整理を構成

## 6. ドキュメントコンテンツ拡充

- 包括的な API ガイドとチュートリアルを追加
- 認証・認可ドキュメントを作成
- エラーハンドリングとステータスコードを文書化
- SDK とクライアントライブラリのドキュメントを作成
- レート制限と使用ガイドラインを追加

## 7. ドキュメントホスティングとデプロイ

- ドキュメントホスティングとデプロイを設定
- ドキュメントウェブサイト生成とスタイリングを構成
- カスタムドメインと SSL 構成を設定
- ドキュメント検索とナビゲーションを構成
- ドキュメント分析と使用状況追跡を設定

## 8. 自動化と CI/CD 統合

- CI/CD パイプラインでの自動ドキュメント生成を構成
- ドキュメントデプロイ自動化を設定
- ドキュメント検証と品質チェックを構成
- ドキュメント変更検出と通知を設定
- ドキュメントテストとリンク検証を構成

## 9. マルチフォーマットドキュメント生成

- 複数フォーマットでのドキュメント生成 (HTML / PDF / Markdown)
- ダウンロード可能なドキュメントパッケージを設定
- オフラインドキュメントアクセスを構成
- プログラマティックアクセス用ドキュメント API を設定
- ドキュメント配信と流通を構成

## 10. メンテナンスと品質保証

- ドキュメント品質監視と検証を設定
- ドキュメントフィードバックと改善ワークフローを構成
- ドキュメント分析と使用状況メトリクスを設定
- ドキュメントメンテナンス手順とガイドラインを作成
- ドキュメントベストプラクティスをチームに教育
- ドキュメントレビューと承認プロセスを設定

## チェックリスト

- [ ] API 仕様フォーマット選定 (OpenAPI 3.0 推奨)
- [ ] コードアノテーション追加完了
- [ ] 自動仕様生成パイプライン構築
- [ ] インタラクティブドキュメント (Swagger UI / Redoc) 設定
- [ ] 認証フローとエラーコード完全文書化
- [ ] マルチ言語コード例追加 (curl / Python / JavaScript)
- [ ] CI/CD 統合とデプロイ自動化
- [ ] ドキュメントバージョニング設定

## 関連リファレンス

- `architecture-documentation.md` - システムアーキテクチャ文書化
- `troubleshooting-guide.md` - トラブルシューティングガイド作成
