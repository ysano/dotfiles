# 依存関係監査手順

包括的な依存関係監査を以下の 13 ステップで実施する。

## 1. 依存関係の発見

- 全依存関係管理ファイルを特定 (package.json, requirements.txt, Cargo.toml, pom.xml 等)
- 直接依存 vs 推移的依存をマッピング
- ロックファイルとバージョン整合性を確認
- 開発用 vs 本番用依存関係をレビュー

## 2. バージョン分析

- 古いパッケージと利用可能な更新を確認
- メジャーバージョン更新が利用可能なパッケージを特定
- セマンティックバージョニングの遵守状況をレビュー
- バージョンピニング戦略を分析

## 3. セキュリティ脆弱性スキャン

- 適切なツールを使用してセキュリティ監査を実行:
  - `npm audit` (Node.js プロジェクト)
  - `pip-audit` (Python プロジェクト)
  - `cargo audit` (Rust プロジェクト)
  - GitHub Security Advisories (全プラットフォーム)
- Critical, High, Medium, Low の脆弱性を特定
- 既知のエクスプロイトと CVE 参照を確認

## 4. ライセンスコンプライアンス

- 全依存関係のライセンス互換性をレビュー
- 制限的ライセンス (GPL, AGPL 等) を特定
- プロジェクトライセンスとの競合を確認
- ライセンス義務と要件を文書化

## 5. 依存関係のヘルス評価

- パッケージのメンテナンス状況と活動を確認
- コントリビューター数とコミュニティサポートをレビュー
- リリース頻度と安定性を分析
- 放棄または非推奨パッケージを特定

## 6. サイズ・パフォーマンス影響

- 各依存関係のバンドルサイズ影響を分析
- 最適化可能な大きな依存関係を特定
- 依存関係間の機能重複を確認
- ツリーシェイキングとデッドコード除去の効果をレビュー

## 7. 代替分析

- より良い代替がある依存関係を特定
- 軽量またはより効率的な置き換えを確認
- 機能の重複と統合の機会を分析
- ネイティブ代替 (組み込み関数 vs ライブラリ) をレビュー

## 8. 依存関係の競合

- 依存関係間のバージョン競合を確認
- ピア依存関係の問題を特定
- 依存関係解決戦略をレビュー
- 更新における潜在的な破壊的変更を分析

## 9. ビルド・開発影響

- ビルド時間に影響する依存関係をレビュー
- 本番環境に含まれる開発用依存関係を確認
- ツーリング依存関係と代替を分析
- オプション依存関係とその必要性をレビュー

## 10. サプライチェーンセキュリティ

- タイポスクワッティングと悪意のあるパッケージを確認
- パッケージの真正性と署名をレビュー
- 依存関係のソースとレジストリを分析
- 不審または異常な依存関係を確認

## 11. 更新戦略の策定

- セキュリティと安定性に基づく優先順位付き更新計画を作成
- 破壊的変更と必要なコード修正を特定
- 更新中のテスト戦略を計画
- 問題のある更新のロールバック手順を文書化

## 12. 監視・自動化

- 自動依存関係スキャンを設定
- セキュリティアラートと通知を設定
- 依存関係更新自動化ツールをレビュー
- 定期的な監査スケジュールを確立

## 13. 文書化・レポーティング

- 包括的な依存関係インベントリを作成
- 全セキュリティ発見事項と修正手順を文書化
- 優先度レベル付き更新推奨を提供
- ステークホルダー向けエグゼクティブサマリーを生成

プラットフォーム固有のツールとデータベースを使用して最も正確な結果を得ること。明確なリスク評価付きの実行可能な推奨事項に焦点を当てる。

See also: セキュリティ全体の監査は `security-audit.md`、サプライチェーン堅牢化は `security-hardening.md` を参照。
