# パフォーマンス監査コマンド

異なる技術スタックでのパフォーマンスボトルネックと最適化機会を特定するために、あらゆるコードベースを分析します。

## 実行手順

以下の手順に従って包括的なパフォーマンス監査を実施してください：

1. **技術スタック分析**
   - 主要な言語、フレームワーク、ランタイム環境の特定
   - ビルドツールと最適化設定のレビュー
   - 既に導入されているパフォーマンス監視ツールのチェック

2. **コードパフォーマンス分析**
   - 非効率なアルゴリズムとデータ構造の特定
   - ネストしたループとO(n²)の操作の探索
   - 不要な計算と冗長な操作のチェック
   - メモリ割り当てパターンと潜在的なリークのレビュー

3. **データベースパフォーマンス**
   - データベースクエリの効率性分析
   - 欠落しているインデックスと低速クエリのチェック
   - コネクションプールとデータベース設定のレビュー
   - N+1クエリ問題と過度なデータベース呼び出しの特定

4. **フロントエンドパフォーマンス（該当する場合）**
   - バンドルサイズとチャンク最適化の分析
   - 未使用コードと依存関係のチェック
   - 画像最適化と遅延読み込みのレビュー
   - レンダリングパフォーマンスと再レンダリングサイクルの検査
   - UIコンポーネントのメモリリークのチェック

5. **ネットワークパフォーマンス**
   - API呼び出しパターンとキャッシュ戦略のレビュー
   - 不要なネットワークリクエストのチェック
   - ペイロードサイズと圧縮の分析
   - CDN使用と静的アセット最適化の検査

6. **非同期操作**
   - async/awaitの使用とPromiseハンドリングのレビュー
   - ブロッキング操作と競合状態のチェック
   - タスクキューとバックグラウンド処理の分析
   - 並列実行の機会の特定

7. **メモリ使用量**
   - メモリリークと過度なメモリ消費のチェック
   - ガベージコレクションパターンのレビュー
   - オブジェクトのライフサイクルとクリーンアップの分析
   - 大きなオブジェクトと不要なデータ保持の特定

8. **ビルド・デプロイメントパフォーマンス**
   - ビルド時間と最適化機会の分析
   - 依存関係バンドルとtree shakingのレビュー
   - 開発環境対本番環境の最適化のチェック
   - デプロイメントパイプラインの効率性の検査

9. **パフォーマンス監視**
   - 既存のパフォーマンスメトリクスと監視のチェック
   - 追跡すべき重要パフォーマンス指標（KPI）の特定
   - アラートとパフォーマンス闾値のレビュー
   - パフォーマンステスト戦略の提案

10. **ベンチマーク・プロファイリング**
    - スタックに適したパフォーマンスプロファイリングツールの実行
    - 重要なコードパスのベンチマーク作成
    - 最適化前後の影響の測定
    - パフォーマンスベースラインの文書化

11. **最適化推奨事項**
    - 影響度と工数に基づく最適化の優先順位付け
    - 具体的なコード例と代替案の提供
    - スケーラビリティのためのアーキテクチャ改善の提案
    - 適切なパフォーマンスツールとライブラリの推奨

可能な限り、具体的なファイルパス、行番号、測定可能なメトリクスを含めてください。高影響、低工数の最適化を最初に重視してください。