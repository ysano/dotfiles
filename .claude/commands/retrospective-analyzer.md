# ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼

GitHub Projects V2ã€Issuesã€PRã€Actionsã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’åˆ†æã—ã€æ”¹å–„ã®ãŸã‚ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®æ´å¯Ÿã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã§ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã‚’ä¿ƒé€²ã—ã¾ã™ã€‚

## å®Ÿè¡Œæ‰‹é †

1. **ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã®è¨­å®š**
   - åˆ†æã™ã‚‹ã‚¹ãƒ—ãƒªãƒ³ãƒˆ/ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®ç‰¹å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼šæœ€æ–°ï¼‰
   - GitHub Projects V2ã€APIã‚¢ã‚¯ã‚»ã‚¹ã®ç¢ºèª
   - ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–å½¢å¼ã®è¨­å®š
   - åˆ†ææ™‚é–“ç¯„å›²ã®è¨­å®š

2. **ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿åé›†**

#### å®šé‡çš„ãƒ¡ãƒˆãƒªã‚¯ã‚¹
```
GitHub Projects V2/Issuesã‹ã‚‰ï¼š
- è¨ˆç”»å¯¾å®Œäº†Issuesæ•°
- ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ™ãƒ­ã‚·ãƒ†ã‚£ã¨ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£
- Issueã‚µã‚¤ã‚¯ãƒ«ã‚¿ã‚¤ãƒ ã¨ãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ 
- ãƒã‚°ãƒ©ãƒ™ãƒ«ã®Issuesæ•°
- è¨ˆç”»å¤–Issueã®å‰²åˆ

Git/GitHubã‹ã‚‰ï¼š
- ã‚³ãƒŸãƒƒãƒˆé »åº¦ã¨åˆ†å¸ƒ
- PRãƒãƒ¼ã‚¸æ™‚é–“çµ±è¨ˆ
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã‚¿ãƒ¼ãƒ³ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰
- GitHub ActionsæˆåŠŸç‡
- ãƒ‡ãƒ—ãƒ­ã‚¤é »åº¦ã¨æˆåŠŸç‡

GitHub Actions/Workflowsã‹ã‚‰ï¼š
- CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œæ™‚é–“
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãƒˆãƒ¬ãƒ³ãƒ‰
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å¤±æ•—ç‡
- ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆé »åº¦
```

#### å®šæ€§ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
```
1. PRãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã®æ„Ÿæƒ…
2. ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‘ã‚¿ãƒ¼ãƒ³
3. GitHub Discussions/Issuesã‚³ãƒ¡ãƒ³ãƒˆ
4. å‰å›ã®ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 
5. GitHub Issuesã®ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆãƒˆãƒ¬ãƒ³ãƒ‰
6. GitHub Actionsãƒ­ã‚°ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
7. Slackä¼šè©±ï¼ˆåˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰
```

3. **Automated Analysis**

#### Sprint Performance Analysis
```markdown
# Sprint [Name] Retrospective Analysis

## Sprint Overview
- Duration: [Start] to [End]
- Team Size: [Number] members
- Sprint Goal: [Description]
- Goal Achievement: [Yes/Partial/No]

## Key Metrics Summary

### Delivery Metrics
| Metric | Target | Actual | Variance |
|--------|--------|--------|----------|
| Velocity | [X] pts | [Y] pts | [+/-Z]% |
| Completion Rate | 90% | [X]% | [+/-Y]% |
| Defect Rate | <5% | [X]% | [+/-Y]% |
| Unplanned Work | <20% | [X]% | [+/-Y]% |

### Process Metrics
| Metric | This Sprint | Previous | Trend |
|--------|-------------|----------|-------|
| Avg PR Review Time | [X] hrs | [Y] hrs | [â†‘/â†“] |
| Avg Cycle Time | [X] days | [Y] days | [â†‘/â†“] |
| CI/CD Success Rate | [X]% | [Y]% | [â†‘/â†“] |
| Team Happiness | [X]/5 | [Y]/5 | [â†‘/â†“] |
```

#### Pattern Recognition
```markdown
## Identified Patterns

### Positive Patterns ğŸŸ¢
1. **Improved Code Review Speed**
   - Average review time decreased by 30%
   - Correlation with new review guidelines
   - Recommendation: Document and maintain process

2. **Consistent Daily Progress**
   - Even commit distribution throughout sprint
   - No last-minute rush
   - Indicates good sprint planning

### Concerning Patterns ğŸ”´
1. **Monday Deploy Failures**
   - 60% of failed deployments on Mondays
   - Possible cause: Weekend changes not tested
   - Action: Implement Monday morning checks

2. **Increasing Scope Creep**
   - 35% unplanned work (up from 20%)
   - Source: Urgent customer requests
   - Action: Review sprint commitment process
```

4. **Interactive Retrospective Facilitation**

#### Pre-Retrospective Report
```markdown
# Pre-Retrospective Insights

## Data-Driven Discussion Topics

### 1. What Went Well 
Based on the data, these areas showed improvement:
- âœ… Code review efficiency (+30%)
- âœ… Test coverage increase (+5%)
- âœ… Zero critical bugs in production
- âœ… All team members contributed evenly

**Suggested Discussion Questions:**
- What specific changes led to faster reviews?
- How can we maintain zero critical bugs?
- What made work distribution successful?

### 2. What Didn't Go Well
Data indicates challenges in these areas:
- âŒ Sprint velocity miss (-15%)
- âŒ High unplanned work (35%)
- âŒ 3 rollbacks required
- âŒ Team overtime increased

**Suggested Discussion Questions:**
- What caused the velocity miss?
- How can we better handle unplanned work?
- What led to the rollbacks?

### 3. Action Items from Data
Recommended improvements based on patterns:
1. Implement feature flags for safer deployments
2. Create unplanned work budget in sprint planning
3. Add integration tests for [problem area]
4. Schedule mid-sprint check-ins
```

#### Live Retrospective Support
```
During the retrospective, I can help with:

1. **Fact Checking**: 
   "Actually, our velocity was 45 points, not 50"

2. **Pattern Context**:
   "This is the 3rd sprint with Monday deploy issues"

3. **Historical Comparison**:
   "Last time we had similar issues, we tried X"

4. **Action Item Tracking**:
   "From last retro, we completed 4/6 action items"
```

5. **Retrospective Output Formats**

#### Standard Retrospective Summary
```markdown
# Sprint [X] Retrospective Summary

## Participants
[List of attendees]

## What Went Well
- [Categorized list with vote counts]
- Supporting data: [Metrics]

## What Didn't Go Well  
- [Categorized list with vote counts]
- Root cause analysis: [Details]

## Action Items
| Action | Owner | Due Date | Success Criteria |
|--------|-------|----------|------------------|
| [Action 1] | [Name] | [Date] | [Measurable outcome] |
| [Action 2] | [Name] | [Date] | [Measurable outcome] |

## Experiments for Next Sprint
1. [Experiment description]
   - Hypothesis: [What we expect]
   - Measurement: [How we'll know]
   - Review date: [When to assess]

## Team Health Pulse
- Energy Level: [Rating]/5
- Clarity: [Rating]/5
- Confidence: [Rating]/5
- Key Quote: "[Notable team sentiment]"
```

#### Trend Analysis Report
```markdown
# Retrospective Trends Analysis

## Recurring Themes (Last 5 Sprints)

### Persistent Challenges
1. **Deployment Issues** (4/5 sprints)
   - Root cause still unresolved
   - Recommended escalation

2. **Estimation Accuracy** (5/5 sprints)
   - Consistent 20% overrun
   - Needs systematic approach

### Improving Areas
1. **Communication** (Improving for 3 sprints)
2. **Code Quality** (Steady improvement)

### Success Patterns
1. **Pair Programming** (Mentioned positively 5/5)
2. **Daily Standups** (Effective format found)
```

6. **Action Item Generation**

#### Smart Action Items
```
Based on retrospective discussion, here are SMART action items:

1. **Reduce Deploy Failures**
   - Specific: Implement smoke tests for Monday deploys
   - Measurable: <5% failure rate
   - Assignable: DevOps team
   - Relevant: Addresses 60% of failures
   - Time-bound: By next sprint

2. **Improve Estimation**
   - Specific: Use planning poker for all stories
   - Measurable: <20% variance from estimates
   - Assignable: Scrum Master facilitates
   - Relevant: Addresses velocity misses
   - Time-bound: Start next sprint planning
```

## Error Handling

### No GitHub Projects Data
```
"GitHub Projects V2ã‚¢ã‚¯ã‚»ã‚¹ãŒåˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚Gitãƒ‡ãƒ¼ã‚¿ã¨Issuesã®ã¿ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ä¸è¶³ã—ã¦ã„ã‚‹æ´å¯Ÿï¼š
- Projects V2ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ†æ
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ãƒãƒ¼ãƒ ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ‡ãƒ¼ã‚¿

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’å¸Œæœ›ã—ã¾ã™ã‹ï¼š
1. Gitã¨Issuesãƒ‡ãƒ¼ã‚¿ã®ã¿ã§ç¶šè¡Œ
2. ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’æ‰‹å‹•å…¥åŠ›
3. GitHub Projects V2æ¨©é™ã‚’è¨­å®šã—ã¦å†è©¦è¡Œ"
```

### Incomplete Sprint
```
"Sprint appears to be in progress. 

Current analysis based on:
- [X] days of [Y] total
- [Z]% work completed

Recommendation: Run full analysis after sprint ends
Proceed with partial analysis? [Y/N]"
```

## Advanced Features

### Sentiment Analysis
```python
# Analyze PR comments and commit messages
sentiment_indicators = {
    'positive': ['fixed', 'improved', 'resolved', 'great'],
    'negative': ['bug', 'issue', 'broken', 'failed', 'frustrated'],
    'neutral': ['updated', 'changed', 'modified']
}

# Generate sentiment report
"Team Sentiment Analysis:
- Positive indicators: 65%
- Negative indicators: 25%  
- Neutral: 10%

Trend: Improving from last sprint (was 55% positive)"
```

### Predictive Insights
```
"Based on current patterns:

âš ï¸ Risk Predictions:
- 70% chance of velocity miss if unplanned work continues
- Deploy failures likely to increase without intervention

ğŸ’¡ Opportunity Predictions:
- 15% velocity gain possible with proposed process changes
- Team happiness likely to improve with workload balancing"
```

### Experiment Tracking
```
"Previous Experiments Results:

1. 'No Meeting Fridays' (Sprint 12-14)
   - Result: 20% productivity increase
   - Recommendation: Make permanent

2. 'Pair Programming for Complex Tasks' (Sprint 15)
   - Result: 50% fewer defects
   - Recommendation: Continue with guidelines"
```

## Integration Options

1. **GitHub Issues**: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã‚’Issuesã¨ã—ã¦ä½œæˆ
2. **GitHub Projects V2**: ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ 
3. **GitHub Discussions**: ãƒãƒ¼ãƒ ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³æŠ•ç¨¿
4. **GitHub Actions**: ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
5. **Slack**: ãƒãƒ¼ãƒ ãƒãƒ£ãƒ³ãƒãƒ«ã«æ¦‚è¦æŠ•ç¨¿
6. **GitHub Pages**: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ãƒšãƒ¼ã‚¸ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
7. **Calendar**: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

## GitHub Actionsçµ±åˆ

### è‡ªå‹•ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```yaml
# .github/workflows/retrospective.yml
name: Automated Retrospective Analysis
on:
  schedule:
    - cron: '0 16 * * 5'  # æ¯é€±é‡‘æ›œæ—¥16æ™‚
  workflow_dispatch:
    inputs:
      sprint_number:
        description: 'Sprint/Milestone Number'
        required: false

jobs:
  retrospective-analysis:
    runs-on: ubuntu-latest
    steps:
      - name: Collect Sprint Data
        run: |
          # Get closed issues from last sprint
          gh issue list --state closed --milestone "${{ github.event.inputs.sprint_number || 'current' }}" --json number,title,closedAt,labels,assignees
          
          # Get merged PRs
          gh pr list --state merged --json number,title,mergedAt,additions,deletions,reviewDecision
          
          # Get workflow runs
          gh api /repos/${{ github.repository }}/actions/runs --jq '.workflow_runs[] | select(.created_at > "'$(date -d '2 weeks ago' --iso-8601)'")'

      - name: Generate Retrospective Report
        run: |
          # Analyze data and generate insights
          echo "## Sprint Retrospective Analysis" > retrospective.md
          echo "Date: $(date)" >> retrospective.md
          # Add analysis logic here

      - name: Create Issues for Action Items
        run: |
          # Create GitHub Issues for identified action items
          gh issue create --title "Retrospective Action: Improve CI/CD Pipeline" --body "Based on retrospective analysis..." --label "retrospective,improvement"

      - name: Update Project Board
        run: |
          # Add retrospective items to project
          gh project item-create --owner ${{ github.repository_owner }} --number 1 --title "Sprint Retrospective Completed"
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
#!/bin/bash
# collect-metrics.sh - GitHub ãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†

REPO_OWNER="${1:-$(gh repo view --json owner --jq .owner.login)}"
REPO_NAME="${2:-$(gh repo view --json name --jq .name)}"
DAYS_BACK="${3:-14}"

echo "Collecting retrospective metrics for $REPO_OWNER/$REPO_NAME (last $DAYS_BACK days)"

# Issue metrics
echo "## Issue Metrics"
gh issue list --state closed --search "closed:>$(date -d "$DAYS_BACK days ago" --iso-8601)" --json number,title,closedAt,labels --jq '
  group_by(.labels[].name) | 
  map({label: .[0].labels[0].name, count: length}) |
  sort_by(.count) | reverse'

# PR metrics  
echo "## Pull Request Metrics"
gh pr list --state merged --search "merged:>$(date -d "$DAYS_BACK days ago" --iso-8601)" --json number,title,mergedAt,additions,deletions,comments --jq '
  {
    total_prs: length,
    total_additions: map(.additions) | add,
    total_deletions: map(.deletions) | add,
    avg_comments: (map(.comments | length) | add / length)
  }'

# Actions metrics
echo "## GitHub Actions Metrics"
gh api "/repos/$REPO_OWNER/$REPO_NAME/actions/runs?per_page=100" --jq '
  .workflow_runs[] | 
  select(.created_at > "'$(date -d "$DAYS_BACK days ago" --iso-8601)'") |
  {name: .name, status: .status, conclusion: .conclusion, run_started_at: .run_started_at}'
```

## Best Practices

1. **Data Before Discussion**: Review metrics first
2. **Focus on Patterns**: Look for recurring themes
3. **Action-Oriented**: Every insight needs action
4. **Time-boxed**: Keep retrospective focused
5. **Follow-up**: Track action item completion
6. **Celebrate Wins**: Acknowledge improvements
7. **Safe Space**: Encourage honest feedback
8. **Automate Collection**: Use GitHub Actions for consistent data gathering
9. **Version Control Insights**: Store retrospective outputs in repository for tracking