# Claude Voice 共通統合設定
# macOS, WSL, Linux環境で共通使用される設定

# Claude Voice integration environment variables
set-environment -g CLAUDE_VOICE_AUTO_SUMMARY "true"         # Master switch for auto-summary
set-environment -g CLAUDE_VOICE_ON_COMPLETE "true"         # Auto-summary on completion (✅)
set-environment -g CLAUDE_VOICE_ON_WAITING "true"          # Auto-summary on input waiting (⌛)
set-environment -g CLAUDE_VOICE_ON_BUSY "false"            # Auto-summary on busy start (⚡) - usually not needed

# Audio notification settings (共通)
set-environment -g CLAUDE_NOTIFICATION_SOUND "true"

# Claude Voice 共通キーバインド
# Test Claude Voice integration
bind-key C-t run-shell 'echo "Testing Claude Voice integration..." && ~/.tmux/scripts/claude-notify.sh #{window_index} "" "✅"'

# Toggle Claude Voice auto-summary (master switch)
bind-key C-a run-shell 'if [ "$CLAUDE_VOICE_AUTO_SUMMARY" = "true" ]; then tmux set-environment -g CLAUDE_VOICE_AUTO_SUMMARY "false" && tmux display-message "Claude Voice auto-summary disabled"; else tmux set-environment -g CLAUDE_VOICE_AUTO_SUMMARY "true" && tmux display-message "Claude Voice auto-summary enabled"; fi'

# Individual toggles for each state
bind-key C-1 run-shell 'if [ "$CLAUDE_VOICE_ON_COMPLETE" = "true" ]; then tmux set-environment -g CLAUDE_VOICE_ON_COMPLETE "false" && tmux display-message "Claude Voice on completion: OFF"; else tmux set-environment -g CLAUDE_VOICE_ON_COMPLETE "true" && tmux display-message "Claude Voice on completion: ON"; fi'
bind-key C-2 run-shell 'if [ "$CLAUDE_VOICE_ON_WAITING" = "true" ]; then tmux set-environment -g CLAUDE_VOICE_ON_WAITING "false" && tmux display-message "Claude Voice on waiting: OFF"; else tmux set-environment -g CLAUDE_VOICE_ON_WAITING "true" && tmux display-message "Claude Voice on waiting: ON"; fi'
bind-key C-3 run-shell 'if [ "$CLAUDE_VOICE_ON_BUSY" = "true" ]; then tmux set-environment -g CLAUDE_VOICE_ON_BUSY "false" && tmux display-message "Claude Voice on busy: OFF"; else tmux set-environment -g CLAUDE_VOICE_ON_BUSY "true" && tmux display-message "Claude Voice on busy: ON"; fi'